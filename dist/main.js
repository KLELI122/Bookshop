/*! For license information please see main.js.LICENSE.txt */
(()=>{"use strict";var __webpack_modules__={"./src/scss/style.scss":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n\n\n//# sourceURL=webpack://bookshop/./src/scss/style.scss?")},"./src/scripts/api/add_to_basket.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "addToBasket": () => (/* binding */ addToBasket)\n/* harmony export */ });\nlet count = localStorage.getItem("basket");\r\nconst counter = document.querySelector(".j-counter");\r\n\r\nconst addToBasket = (event) => {\r\n  if (event.target.classList.contains("card__btn_pressed")) {\r\n    event.target.classList.remove("card__btn_pressed");\r\n    event.target.innerHTML = "buy now";\r\n    count--;\r\n    delete localStorage[`${event.target.getAttribute("data-identifier")}`];\r\n  } else {\r\n    event.target.classList.add("card__btn_pressed");\r\n    event.target.innerHTML = "in the cart";\r\n    count++;\r\n    localStorage.setItem(\r\n      event.target.getAttribute("data-identifier"),\r\n      "in the cart"\r\n    );\r\n  }\r\n\r\n  if (count == 0) {\r\n    counter.style.display = "none";\r\n  } else {\r\n    counter.style.display = "block";\r\n    counter.innerHTML = count;\r\n  }\r\n\r\n  localStorage.setItem("basket", count);\r\n};\r\n\n\n//# sourceURL=webpack://bookshop/./src/scripts/api/add_to_basket.js?')},"./src/scripts/api/create_content.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "createAuthors": () => (/* binding */ createAuthors),\n/* harmony export */   "createBookCover": () => (/* binding */ createBookCover),\n/* harmony export */   "createDesc": () => (/* binding */ createDesc),\n/* harmony export */   "createPrice": () => (/* binding */ createPrice),\n/* harmony export */   "createRatingReviews": () => (/* binding */ createRatingReviews),\n/* harmony export */   "createRatingStars": () => (/* binding */ createRatingStars)\n/* harmony export */ });\nconst createAuthors = (data) => {\r\n  let authors = "";\r\n  if (data.volumeInfo.hasOwnProperty("authors")) {\r\n    authors = data.volumeInfo.authors;\r\n    if (data.volumeInfo.authors.length > 1) {\r\n      authors = `${data.volumeInfo.authors[0]}, ${data.volumeInfo.authors[1]}`;\r\n    }\r\n  }\r\n  return `<span class="desc__author">${authors}</span>`;\r\n};\r\n\r\nconst createBookCover = (data) => {\r\n  let imgLink = "./images/placeholder.png";\r\n  if (data.volumeInfo.hasOwnProperty("imageLinks"))\r\n    imgLink = data.volumeInfo.imageLinks.thumbnail;\r\n  return `<img class="card__img" src="${imgLink}" alt="book cover">`;\r\n};\r\n\r\nconst createDesc = (data) => {\r\n  let desc = "";\r\n  if (data.volumeInfo.hasOwnProperty("description"))\r\n    desc = data.volumeInfo.description;\r\n  return `<span class="desc__text">${desc}</span>`;\r\n};\r\n\r\nconst createRatingStars = (data) => {\r\n  let ratingStars = "";\r\n  let countStars;\r\n  if (data.volumeInfo.hasOwnProperty("averageRating")) {\r\n    countStars = data.volumeInfo.averageRating;\r\n    for (let i = 0; i < countStars; i++) {\r\n      ratingStars += `<img src="./images/star.svg" alt="star">`;\r\n    }\r\n    for (let i = 0; i < 5 - countStars; i++) {\r\n      ratingStars += `<img src="./images/star_empty.svg" alt="empty star">`;\r\n    }\r\n  }\r\n  return ratingStars;\r\n};\r\n\r\nconst createRatingReviews = (data) => {\r\n  let ratingReviews = "";\r\n  if (data.volumeInfo.hasOwnProperty("ratingsCount")) {\r\n    ratingReviews = `${data.volumeInfo.averageRating} review`;\r\n  }\r\n  return `<span class="rating__reviews">${ratingReviews}</span>`;\r\n};\r\n\r\nconst createPrice = (data) => {\r\n  let price = "";\r\n  let currency = "";\r\n  if (data.saleInfo.hasOwnProperty("retailPrice")) {\r\n    price = data.saleInfo.retailPrice.amount;\r\n    currency = data.saleInfo.retailPrice.currencyCode;\r\n  }\r\n  return `<span class="desc__price">${price} ${currency}</span>`;\r\n};\r\n\n\n//# sourceURL=webpack://bookshop/./src/scripts/api/create_content.js?')},"./src/scripts/api/init_catalog.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "initCatalog": () => (/* binding */ initCatalog)\n/* harmony export */ });\n/* harmony import */ var _init_request__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./init_request */ "./src/scripts/api/init_request.js");\n\r\n\r\nconst namesCategories = [\r\n  {\r\n    name: "Architecture",\r\n    apiName: "Architecture",\r\n  },\r\n  {\r\n    name: "Art & Fashion",\r\n    apiName: "Art",\r\n  },\r\n  {\r\n    name: "Biography",\r\n    apiName: "Biography & Autobiography",\r\n  },\r\n  {\r\n    name: "Business",\r\n    apiName: "Business",\r\n  },\r\n  {\r\n    name: "Crafts & Hobbies",\r\n    apiName: "Crafts & Hobbies",\r\n  },\r\n  {\r\n    name: "Drama",\r\n    apiName: "Drama",\r\n  },\r\n  {\r\n    name: "Fiction",\r\n    apiName: "Fiction",\r\n  },\r\n  {\r\n    name: "Food & Drink",\r\n    apiName: "Cooking",\r\n  },\r\n  {\r\n    name: "Health & Wellbeing",\r\n    apiName: "Health & Fitness",\r\n  },\r\n  {\r\n    name: "History & Politics",\r\n    apiName: "History",\r\n  },\r\n  {\r\n    name: "Humor",\r\n    apiName: "Humor",\r\n  },\r\n  {\r\n    name: "Poetry",\r\n    apiName: "Poetry",\r\n  },\r\n  {\r\n    name: "Psychology",\r\n    apiName: "Psychology",\r\n  },\r\n  {\r\n    name: "Science",\r\n    apiName: "Science",\r\n  },\r\n  {\r\n    name: "Technology",\r\n    apiName: "Technology",\r\n  },\r\n  {\r\n    name: "Travel & Maps",\r\n    apiName: "Travel",\r\n  },\r\n];\r\n\r\nconst categories = document.querySelector(".j-categories");\r\nconst cards = document.querySelector(".j-cards");\r\nconst moreBtn = document.querySelector(".j-moreBtn");\r\n\r\nlet startIndex = 0;\r\nlet categoriesList;\r\nlet nameCategoryApi;\r\n\r\nconst initCatalog = () => {\r\n  namesCategories.forEach((item) => {\r\n    categories.innerHTML += `<li class="categories__item">${item.name}</li>`;\r\n  });\r\n  categoriesList = document.querySelectorAll(".categories__item");\r\n  categoriesList[0].classList.add("categories__item_active");\r\n\r\n  nameCategoryApi = namesCategories[0].apiName;\r\n  (0,_init_request__WEBPACK_IMPORTED_MODULE_0__.createApiUrl)(nameCategoryApi, startIndex);\r\n\r\n  categoriesList.forEach((item) => {\r\n    item.addEventListener("click", changeCategory);\r\n  });\r\n  moreBtn.addEventListener("click", loadMore);\r\n};\r\n\r\nconst changeCategory = (event) => {\r\n  categoriesList.forEach((item) => {\r\n    if (item.classList.contains("categories__item_active"))\r\n      item.classList.remove("categories__item_active");\r\n  });\r\n  event.target.classList.add("categories__item_active");\r\n\r\n  const nameCategory = event.target.textContent;\r\n  namesCategories.forEach((item) => {\r\n    if (item.name == nameCategory) nameCategoryApi = item.apiName;\r\n  });\r\n  startIndex = 0;\r\n  cards.innerHTML = "";\r\n\r\n  (0,_init_request__WEBPACK_IMPORTED_MODULE_0__.createApiUrl)(nameCategoryApi, startIndex);\r\n};\r\n\r\nconst loadMore = () => {\r\n  startIndex += 6;\r\n  (0,_init_request__WEBPACK_IMPORTED_MODULE_0__.createApiUrl)(nameCategoryApi, startIndex);\r\n};\r\n\n\n//# sourceURL=webpack://bookshop/./src/scripts/api/init_catalog.js?')},"./src/scripts/api/init_request.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "createApiUrl": () => (/* binding */ createApiUrl)\n/* harmony export */ });\n/* harmony import */ var _create_content__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./create_content */ "./src/scripts/api/create_content.js");\n/* harmony import */ var _add_to_basket__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./add_to_basket */ "./src/scripts/api/add_to_basket.js");\n/* harmony import */ var _load_local_storage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./load_local_storage */ "./src/scripts/api/load_local_storage.js");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst apiKey = "AIzaSyCFDRm5eRPTtHblf-PTmRUQahWZ02drD3g";\r\nconst apiUrl = "https://www.googleapis.com/books/v1/volumes";\r\n\r\nconst createApiUrl = (nameCategory, startIndex) => {\r\n  const params = new URLSearchParams();\r\n  params.append("q", `subject:${nameCategory}`);\r\n  params.append("key", apiKey);\r\n  params.append("printType", "books");\r\n  params.append("startIndex", startIndex);\r\n  params.append("maxResults", 6);\r\n  params.append("langRestrict", "en");\r\n  useRequest(`${apiUrl}?${params}`, displayResult);\r\n};\r\n\r\nconst useRequest = async (url, displayResult) => {\r\n  return await fetch(url)\r\n    .then((response) => response.json())\r\n    .then((result) => {\r\n      displayResult(result);\r\n    })\r\n    .catch((error) => {\r\n      console.log(error);\r\n    });\r\n};\r\n\r\nconst displayResult = (apiData) => {\r\n  const cards = document.querySelector(".j-cards");\r\n  apiData.items.forEach((item) => {\r\n    const card = `\r\n      <div class="card">\r\n        ${(0,_create_content__WEBPACK_IMPORTED_MODULE_0__.createBookCover)(item)}\r\n        <div class="desc">\r\n          ${(0,_create_content__WEBPACK_IMPORTED_MODULE_0__.createAuthors)(item)}\r\n          <span class="desc__title">${item.volumeInfo.title}</span>\r\n          <div class="rating">\r\n            <div class="rating__stars">${(0,_create_content__WEBPACK_IMPORTED_MODULE_0__.createRatingStars)(item)}</div>\r\n            ${(0,_create_content__WEBPACK_IMPORTED_MODULE_0__.createRatingReviews)(item)}\r\n          </div>\r\n          ${(0,_create_content__WEBPACK_IMPORTED_MODULE_0__.createDesc)(item)}\r\n          ${(0,_create_content__WEBPACK_IMPORTED_MODULE_0__.createPrice)(item)}\r\n          <button class="card__btn j-buyBtn" data-identifier=${\r\n            item.id\r\n          }>buy now</button>\r\n        </div>\r\n      </div>\r\n    `;\r\n    cards.innerHTML += card;\r\n  });\r\n  const buyBtn = document.querySelectorAll(".j-buyBtn");\r\n  buyBtn.forEach((item) => {\r\n    item.addEventListener("click", _add_to_basket__WEBPACK_IMPORTED_MODULE_1__.addToBasket);\r\n  });\r\n  (0,_load_local_storage__WEBPACK_IMPORTED_MODULE_2__.loadLocalStorage)(buyBtn);\r\n};\r\n\n\n//# sourceURL=webpack://bookshop/./src/scripts/api/init_request.js?')},"./src/scripts/api/load_local_storage.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "loadLocalStorage": () => (/* binding */ loadLocalStorage)\n/* harmony export */ });\nconst counter = document.querySelector(".j-counter");\r\n\r\nconst loadLocalStorage = (buyBtn) => {\r\n  buyBtn.forEach((item) => {\r\n    if (\r\n      localStorage.getItem(`${item.getAttribute("data-identifier")}`) ==\r\n      "in the cart"\r\n    ) {\r\n      item.classList.add("card__btn_pressed");\r\n      item.innerHTML = "in the cart";\r\n    }\r\n  });\r\n\r\n  if (\r\n    localStorage.getItem("basket") == null ||\r\n    localStorage.getItem("basket") == 0\r\n  ) {\r\n    counter.style.display = "none";\r\n  } else {\r\n    counter.style.display = "block";\r\n    counter.innerHTML = localStorage.getItem("basket");\r\n  }\r\n};\r\n\n\n//# sourceURL=webpack://bookshop/./src/scripts/api/load_local_storage.js?')},"./src/scripts/api/main_api.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "initApi": () => (/* binding */ initApi)\n/* harmony export */ });\n/* harmony import */ var _init_catalog__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./init_catalog */ "./src/scripts/api/init_catalog.js");\n\r\n\r\nfunction initApi() {\r\n  (0,_init_catalog__WEBPACK_IMPORTED_MODULE_0__.initCatalog)();\r\n}\r\n\n\n//# sourceURL=webpack://bookshop/./src/scripts/api/main_api.js?')},"./src/scripts/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _scss_style_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../scss/style.scss */ "./src/scss/style.scss");\n/* harmony import */ var _slider_main_slider_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./slider/main_slider.js */ "./src/scripts/slider/main_slider.js");\n/* harmony import */ var _api_main_api_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./api/main_api.js */ "./src/scripts/api/main_api.js");\n\r\n\r\n\r\n\r\ndocument.addEventListener("DOMContentLoaded", function () {\r\n  (0,_slider_main_slider_js__WEBPACK_IMPORTED_MODULE_1__.initSlider)();\r\n  (0,_api_main_api_js__WEBPACK_IMPORTED_MODULE_2__.initApi)();\r\n});\r\n\n\n//# sourceURL=webpack://bookshop/./src/scripts/index.js?')},"./src/scripts/slider/init_autoplay.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "initAutoplay": () => (/* binding */ initAutoplay)\n/* harmony export */ });\n/* harmony import */ var _init_move__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./init_move */ "./src/scripts/slider/init_move.js");\n\r\n\r\nfunction initAutoplay(images, sliderImages, sliderDots) {\r\n  setInterval(() => {\r\n    let currentNumber = +sliderImages.querySelector(".banner__item_active")\r\n      .dataset.index;\r\n    let nextNumber =\r\n      currentNumber === images.length - 1 ? 0 : currentNumber + 1;\r\n    (0,_init_move__WEBPACK_IMPORTED_MODULE_0__.moveSlider)(nextNumber, sliderImages, sliderDots);\r\n  }, 5000);\r\n}\r\n\n\n//# sourceURL=webpack://bookshop/./src/scripts/slider/init_autoplay.js?')},"./src/scripts/slider/init_dots.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "initDots": () => (/* binding */ initDots)\n/* harmony export */ });\n/* harmony import */ var _init_move__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./init_move */ "./src/scripts/slider/init_move.js");\n\r\n\r\nfunction initDots(images, sliderImages, sliderDots) {\r\n  images.forEach((image, index) => {\r\n    let dot = `<div class="dots__item n${index} ${\r\n      index === 0 ? "dots__item_active" : ""\r\n    }" data-index="${index}"></div>`;\r\n    sliderDots.innerHTML += dot;\r\n  });\r\n  sliderDots.querySelectorAll(".dots__item").forEach((dot) => {\r\n    dot.addEventListener("click", function () {\r\n      (0,_init_move__WEBPACK_IMPORTED_MODULE_0__.moveSlider)(this.dataset.index, sliderImages, sliderDots);\r\n    });\r\n  });\r\n}\r\n\n\n//# sourceURL=webpack://bookshop/./src/scripts/slider/init_dots.js?')},"./src/scripts/slider/init_images.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "initImages": () => (/* binding */ initImages)\n/* harmony export */ });\nfunction initImages(images, sliderImages) {\r\n  images.forEach((image, index) => {\r\n    let imageDiv = `<div class="banner__item n${index} ${\r\n      index === 0 ? "banner__item_active" : ""\r\n    }" style="background-image:url(${\r\n      images[index].url\r\n    });" data-index="${index}"}"></div>`;\r\n    sliderImages.innerHTML += imageDiv;\r\n  });\r\n}\r\n\n\n//# sourceURL=webpack://bookshop/./src/scripts/slider/init_images.js?')},"./src/scripts/slider/init_move.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "moveSlider": () => (/* binding */ moveSlider)\n/* harmony export */ });\nfunction moveSlider(num, sliderImages, sliderDots) {\r\n  sliderImages\r\n    .querySelector(".banner__item_active")\r\n    .classList.remove("banner__item_active");\r\n  sliderImages.querySelector(".n" + num).classList.add("banner__item_active");\r\n  sliderDots\r\n    .querySelector(".dots__item_active")\r\n    .classList.remove("dots__item_active");\r\n  sliderDots.querySelector(".n" + num).classList.add("dots__item_active");\r\n}\r\n\n\n//# sourceURL=webpack://bookshop/./src/scripts/slider/init_move.js?')},"./src/scripts/slider/main_slider.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "initSlider": () => (/* binding */ initSlider)\n/* harmony export */ });\n/* harmony import */ var _init_images__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./init_images */ "./src/scripts/slider/init_images.js");\n/* harmony import */ var _init_dots__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./init_dots */ "./src/scripts/slider/init_dots.js");\n/* harmony import */ var _init_autoplay__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./init_autoplay */ "./src/scripts/slider/init_autoplay.js");\n\r\n\r\n\r\n\r\nfunction initSlider() {\r\n  const images = [\r\n    { url: "./images/banner1.jpg" },\r\n    { url: "./images/banner2.jpg" },\r\n    { url: "./images/banner3.jpg" },\r\n  ];\r\n  const sliderImages = document.querySelector(".j-banner");\r\n  const sliderDots = document.querySelector(".j-dots");\r\n\r\n  (0,_init_images__WEBPACK_IMPORTED_MODULE_0__.initImages)(images, sliderImages);\r\n  (0,_init_dots__WEBPACK_IMPORTED_MODULE_1__.initDots)(images, sliderImages, sliderDots);\r\n  (0,_init_autoplay__WEBPACK_IMPORTED_MODULE_2__.initAutoplay)(images, sliderImages, sliderDots);\r\n}\r\n\n\n//# sourceURL=webpack://bookshop/./src/scripts/slider/main_slider.js?')}},__webpack_module_cache__={};function __webpack_require__(e){var r=__webpack_module_cache__[e];if(void 0!==r)return r.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.exports}__webpack_require__.d=(e,r)=>{for(var n in r)__webpack_require__.o(r,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},__webpack_require__.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__("./src/scripts/index.js")})();